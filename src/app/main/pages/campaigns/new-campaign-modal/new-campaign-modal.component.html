<div class="text-center mt-3">
    <h2>{{ 'campaigns.modal.title' | translate }}</h2>
</div>

<mat-dialog-content>
    <form [formGroup]="campaignForm" class="form-box mt-4">
        <div>
            <label class="d-block">{{ 'campaigns.modal.name.label' | translate }}</label>
            <mat-form-field class="w-100">
                <input
                    matInput
                    [type]="'text'"
                    autocomplete="off"
                    formControlName="name"
                    [placeholder]="'campaigns.modal.name.placeholder' | translate"
                />
                <mat-icon matPrefix class="text-muted">person_outline</mat-icon>
                <mat-error *ngIf="name?.hasError('required')">
                    <mat-icon>warning</mat-icon>{{ 'campaigns.modal.name.error_required' | translate }}
                </mat-error>
                <mat-error *ngIf="name?.hasError('pattern')">
                    <mat-icon>warning</mat-icon>{{ 'campaigns.modal.name.error_pattern' | translate }}
                </mat-error>
            </mat-form-field>
        </div>
        <div>
            <div class="d-flex justify-content-between">
                <label class="d-block">{{ 'onboarding.personal_information.description.label' | translate }}</label>
                <span class="label-max-char paragraph">{{ 'onboarding.personal_information.description.desc' | translate }}</span>
            </div>
            <mat-form-field class="w-100">
                <textarea
                    matInput
                    [type]="'text'"
                    autocomplete="off"
                    formControlName="description"
                    [placeholder]="'campaigns.modal.description.placeholder' | translate"
                    cdkTextareaAutosize
                    cdkAutosizeMinRows="3"
                    maxlength="300"
                ></textarea>
                <mat-error *ngIf="description?.hasError('required')">
                    <mat-icon>warning</mat-icon>{{ 'campaigns.modal.description.error_required' | translate }}
                </mat-error>
            </mat-form-field>
        </div>

        <app-content-form [otherLabel]="'profile.edit.content_you_are_looking_for' | translate"/>

        <div class="mt-3">
            <label class="d-block">{{ 'campaigns.modal.end_date.label' | translate }}</label>
            <mat-form-field class="w-100">
                <input 
                    matInput
                    type="text"
                    [matDatepicker]="picker"
                    formControlName="endDate"
                    [placeholder]="'campaigns.modal.end_date.placeholder' | translate"
                    (input)="inputChange($event)"
                    maxlength="10"
                >
                <mat-datepicker-toggle matIconPrefix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
                <mat-icon matSuffix>calendar</mat-icon>
                <mat-error *ngIf="endDate?.hasError('required')">
                    <mat-icon>warning</mat-icon>{{ 'campaigns.modal.end_date.error_required' | translate }}
                </mat-error>
            </mat-form-field>
        </div>
    </form>
</mat-dialog-content>

<div mat-dialog-actions class="mt-5">
    <div class="w-100">
        <button class="main-button w-100 p-2 mb-2" (click)="save()" [disabled]="campaignForm.invalid">{{ 'profile.edit.btn_save' | translate }}</button>
        <button class="main-button cancel w-100 p-2" (click)="close()">{{ 'general.btn_cancel' | translate }}</button>
    </div>
</div>
